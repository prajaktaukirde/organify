"use strict";var woosq_ids=[],woosq_products=[];(function(e){e(function(){e(".woosq-btn, .woosq-link").each(function(){var t=e(this).attr("data-id"),n=e(this).attr("data-pid"),s=e(this).attr("data-product_id");typeof n!==typeof void 0&&n!==!1&&(t=n),typeof s!==typeof void 0&&s!==!1&&(t=s),-1===e.inArray(t,woosq_ids)&&(woosq_ids.push(t),woosq_products.push({src:woosq_vars.wc_ajax_url.toString().replace("%%endpoint%%","woosq_quickview")+"&product_id="+t}))}),woosq_vars.quick_view>0&&setTimeout(function(){woosq_open(woosq_vars.quick_view)},1e3)}),e(document).on("click touch",'[href*="#woosq-"]',function(t){var o,i,a,n=e(this),r=n.attr("href"),c=/#woosq-([0-9]+)/g,s=c.exec(r);s[1]!==void 0&&(o=s[1],i=n.attr("data-effect"),a=n.attr("data-context"),woosq_open(o,i,a),t.preventDefault())}),e(document).on("click touch",".woosq-btn, .woosq-link",function(t){t.preventDefault();var n=e(this),s=n.attr("data-id"),o=n.attr("data-pid"),i=n.attr("data-product_id"),a=n.attr("data-effect"),r=n.attr("data-context");typeof o!==typeof void 0&&o!==!1&&(s=o),typeof i!==typeof void 0&&i!==!1&&(s=i),woosq_open(s,a,r)}),e(document).on("added_to_cart",function(){woosq_vars.auto_close==="yes"&&(woosq_vars.view==="popup"&&e.magnificPopup.close(),woosq_close())}),e(document).on("woosq_loaded",function(){var t=e("#woosq-popup").find(".variations_form");t.each(function(){e(this).wc_variation_form()}),woosq_init_content("loaded"),e("#woosq-popup .woosq-redirect").length||(woosq_vars.cart_redirect==="yes"&&woosq_vars.cart_url!==""?e("#woosq-popup form").prepend('<input class="woosq-redirect" name="woosq-redirect" type="hidden" value="'+woosq_vars.cart_url+'"/>'):e("#woosq-popup form").prepend('<input class="woosq-redirect" name="woosq-redirect" type="hidden" value="'+window.location.href+'"/>'))}),e(window).on("resize",function(){woosq_init_content("resize")}),e(document).on("found_variation",function(t,n){if(!e(t.target).closest(".woosb-product").length&&!e(t.target).closest(".woosg-product").length&&!e(t.target).closest(".woobt-product").length&&!e(t.target).closest(".woofs-product").length&&e(t.target).closest("#woosq-popup").length&&n.image_id!==void 0&&e("#woosq-popup .thumbnails .thumbnail").length>1){var s,o,i=e('.thumbnail:not(.slick-cloned)[data-id="'+n.image_id+'"]');i.length&&(s=e("#woosq-popup .thumbnails .thumbnail").index(i),o=e("#woosq-popup .thumbnails .images"),s>0&&o.hasClass("slick-initialized")&&setTimeout(function(){o.slick("slickGoTo",s-1)},100))}}),e(document).on("reset_data",function(t){e(t.target).closest("#woosq-popup").length&&e("#woosq-popup .thumbnails .thumbnail").length>1&&e("#woosq-popup .thumbnails .images").hasClass("slick-initialized")&&e("#woosq-popup .thumbnails .images").slick("slickGoTo",0)}),woosq_vars.hashchange==="yes"&&e(window).on("hashchange",function(){location.href.indexOf("#woosq")<0&&(woosq_vars.view==="popup"&&e.magnificPopup.close(),woosq_close())}),e(document).on("click touch",".woosq-overlay, .woosq-close",function(){woosq_close()})})(jQuery);function woosq_open(e,t,n){if(jQuery("body").addClass("woosq-open"),woosq_vars.view==="sidebar"){woosq_loading();var s,o,i={action:"woosq_quickview",product_id:e,context:n,nonce:woosq_vars.nonce};jQuery.post(woosq_vars.wc_ajax_url.toString().replace("%%endpoint%%","woosq_quickview"),i,function(t){jQuery(".woosq-sidebar").html(t),woosq_loaded(),jQuery(document.body).trigger("woosq_loaded",[e])})}else-1===jQuery.inArray(e,woosq_ids)&&(woosq_ids.push(e),woosq_products.push({src:woosq_vars.wc_ajax_url.toString().replace("%%endpoint%%","woosq_quickview")+"&product_id="+e})),o=woosq_get_key(woosq_products,"src",woosq_vars.wc_ajax_url.toString().replace("%%endpoint%%","woosq_quickview")+"&product_id="+e),s="mfp-woosq",typeof n!==typeof void 0&&n!==!1&&(s=s+" mfp-woosq-"+n),typeof t!==typeof void 0&&t!==!1?s=s+" "+t:s=s+" "+woosq_vars.effect,jQuery.magnificPopup.open({items:woosq_products,type:"ajax",mainClass:s,removalDelay:160,overflowY:"scroll",fixedContentPos:!0,tClose:woosq_vars.close,gallery:{tPrev:woosq_vars.prev,tNext:woosq_vars.next,enabled:woosq_vars.next_prev==="yes"},ajax:{settings:{type:"GET",data:{nonce:woosq_vars.nonce}}},callbacks:{open:function(){woosq_vars.hashchange==="yes"&&(location.href=location.href.split("#")[0]+"#woosq")},ajaxContentAdded:function(){jQuery(document.body).trigger("woosq_loaded",[e])},close:function(){woosq_vars.hashchange==="yes"&&location.hash&&history.go(-1)},afterClose:function(){jQuery(document.body).trigger("woosq_close",[e])}}},o);jQuery(document.body).trigger("woosq_open",[e])}function woosq_close(){jQuery("body").removeClass("woosq-open"),jQuery(document.body).trigger("woosq_close")}function woosq_loading(){jQuery(".woosq-sidebar").addClass("woosq-loading")}function woosq_loaded(){jQuery(".woosq-sidebar").removeClass("woosq-loading")}function woosq_init_content(e){e==="loaded"&&(woosq_thumbnails_zoom(),woosq_thumbnails_slick(),woosq_related_slick()),woosq_vars.view==="sidebar"?woosq_vars.scrollbar==="yes"&&jQuery(".woosq-product").perfectScrollbar("destroy").perfectScrollbar({theme:"wpc"}):woosq_vars.scrollbar==="yes"&&(jQuery(window).width()<1024?(jQuery(".woosq-product .summary-content").perfectScrollbar("destroy"),jQuery(".woosq-product").perfectScrollbar("destroy").perfectScrollbar({theme:"wpc"})):(jQuery(".woosq-product").perfectScrollbar("destroy"),jQuery(".woosq-product .summary-content").perfectScrollbar("destroy").perfectScrollbar({theme:"wpc"})))}function woosq_get_key(e,t,n){for(var s=0;s<e.length;s++)if(e[s][t]===n)return s;return-1}function woosq_thumbnails_zoom(){woosq_vars.thumbnails_effect==="zoom"&&jQuery("#woosq-popup .thumbnails .images .thumbnail").each(function(){var e=jQuery(this),t=JSON.parse(woosq_vars.thumbnails_zoom_params);t.url=e.find("img").attr("data-src"),e.trigger("zoom.destroy"),e.zoom(t)})}function woosq_thumbnails_slick(){jQuery("#woosq-popup .thumbnails .images .thumbnail").length>1&&(jQuery("#woosq-popup .thumbnails .images").hasClass("slick-initialized")&&jQuery("#woosq-popup .thumbnails .images").slick("unslick"),jQuery("#woosq-popup .thumbnails .images").slick(JSON.parse(woosq_vars.thumbnails_slick_params)))}function woosq_related_slick(){jQuery(".woosq-related-products").hasClass("slick-initialized")&&jQuery(".woosq-related-products").slick("unslick"),jQuery(".woosq-related-product").length>1&&jQuery(".woosq-related-products").slick(JSON.parse(woosq_vars.related_slick_params))}